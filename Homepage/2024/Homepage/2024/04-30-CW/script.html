<script>
  var bannerSlider = "";
  function initBannerSlider() {
    if (
      bannerSlider.lightSlider &&
      typeof bannerSlider.destroy === "function"
    ) {
      bannerSlider.destroy();
    }
    bannerSlider = $("#light-slider").lightSlider({
      item: 9,
      auto: true,
      slideMove: 3,
      loop: true,
      autoWidth: false,
      pauseOnHover: true,
      easing: "cubic-bezier(0.25, 0, 0.25, 1)",
      speed: 1000,
      pause: 3000,
      slideMargin: 5,
      responsive: [
        {
          breakpoint: 1400,
          settings: {
            item: 6,
          },
        },
        {
          breakpoint: 1080,
          settings: {
            item: 4,
          },
        },
        {
          breakpoint: 500,
          settings: {
            item: 3,
          },
        },
      ],
      onSliderLoad: function (el) {
        $("#light-slider").css("opacity", 1);
      },
    });
  }
  var heroSlider = "";
  function initHeroSlider() {
    if (heroSlider.lightSlider && typeof heroSlider.destroy === "function") {
      heroSlider.destroy();
    }
    heroSlider = $("#hero-slider").lightSlider({
      item: 1,
      loop: true,
      auto: true,
      autoWidth: false,
      easing: "cubic-bezier(0.25, 0, 0.25, 1)",
      speed: 1000,
      pauseOnHover: true,
      pager: false,
      pause: 5000,
      onSliderLoad: function (el) {
        $("#hero-slider").css("opacity", 1);
      },
    });
  }
  $(function () {
    if (
      checkDate > "240403" &&
      checkDate < "240415" &&
      getCookie("fdRecognized") !== undefined
    ) {
      var discAmt = "25";
      if (checkDate > "240412" || location.hostname === "fd.fdwork.com") {
        discAmt = "30";
      }
      $(".heroBanner").replaceWith(
        '<div class="heroBanner position-relative img-flex extended d-flex"><a href="/email/customer-appreciation-dp" class="d-block"><video autoplay muted loop playsinline width="100%" class="d-block"><source src="https://images.framesdirect.com/video/upload/v1711381956/homePage/FD_HP_CUW.mp4" type="video/mp4" /></video></a><div class="text-overlay col-12 col-xl-3 d-flex"><div class="home-promo col-12 d-flex flex-column align-items-center justify-content-center"><div class="size-16 color-white">Private Week is live<div class="weight-bold">Offer ends April 14th</div></div><div class="align-items-center pt-xl-3 pb-xl-5 py-4"><h1 class="size-50 mb-0">' +
          discAmt +
          '% OFF</h1><div class="size-18 weight-bold transform-none mt-0">Ray-Ban, Oakley, and more</div><div class="size-14 weight-normal transform-none mt-3">Combinable with 60% off lenses.<br class="d-none d-sm-block"> Enjoy your exclusive savings at checkout.</div></div><a href="/email/customer-appreciation-dp" class="btn-cta mx-5 px-5 py-2 d-inline-block" style="background: #bd0000; color: #fff !important;">Save Now</a></div></div></div>'
      );
    } else if (checkDate > "240403" && checkDate < "240415") {
      $(".heroBanner").replaceWith(
        '<div class="heroBanner position-relative img-flex extended d-flex"><a href="#" class="d-block"><video autoplay muted loop playsinline width="100%" class="d-block"><source src="https://images.framesdirect.com/video/upload/v1711381956/homePage/FD_HP_CUW.mp4" type="video/mp4" /></video></a><div class="text-overlay col-12 col-xl-3 d-flex"><div class="home-promo col-12 d-flex flex-column align-items-center justify-content-center"><div class="img-flex mt-2" style="margin-bottom: 30px;"><img src="https://images.framesdirect.com/image/upload/v1711633428/homePage/FD_CUW_Herobanner_Mobile.png" width="581" height="437" alt="Private Week is Live" style="max-width: 200px;"></div><div class="color-white size-16">Sign up or sign in to access<br class="d-none d-sm-block"> your exclusive offer ending April 14th.</div><div class="align-items-center justify-content-center pt-4"><a href="#" id="btn-sign-up" class="btn-cta mx-4 ml-md-0 mr-md-4 px-5 py-2 d-inline-block" style="background: #bd0000; color: #fff !important;">SIGN UP</a> <a href="#" id="btn-sign-in" class="btn-cta mx-4 mr-md-0 ml-md-4 px-5 py-2 d-inline-block" style="background: #fff; color: #000 !important;">SIGN IN</a></div></div></div>'
      );
      $("#btn-sign-up").on("click", function () {
        $("#footer-newsletter-submit").click();
      });
      $("#btn-sign-in").on("click", function () {
        $("#ctl00_lnkNewLogin a").click();
      });
    }
    $("#email-signup").on("click", function () {
      $("#footer-newsletter-submit").click();
    });
    $("#rxSunBlock").html(
      '<div class="d-flex flex-column img-flex"><h2 class="text-center size-20 my-2 py-4 px-2">Wiley X Giveaway</h2><p class="text-center mb-3 mt-0 pt-0">Enter for a chance to win a pair of Wiley X high-performance, non-prescription sunglasses, any style!</p><a title="Wiley-X Giveaway" href="/promotions/wiley-x-giveaway" class="d-block"><img src="https://images.framesdirect.com/image/upload/v1687806042/homePage/wiley-x-banner.jpg" alt="Wiley-X Giveaway" style="padding-bottom: 20px;"/></a><div class="mt-auto"><a href="/promotions/wiley-x-giveaway" class="btn-cta mt-auto mx-auto px-5 py-2">ENTER TO WIN NOW</a></div></div>'
    );
    $(".text-overlay").on("click", function () {
      let $this = $(this);
      if ($this.find("a.btn-cta").length == 1) {
        window.location.href = $this.find("a.btn-cta").attr("href");
      }
    });

    $("#saleBlock > div").on("click", function () {
      let $this = $(this),
        linkLoc = $this.find("a").attr("href");
      window.location.href = linkLoc;
    });
    if (checkDate > "221129") {
      $("#saleBlock").removeClass("d-flex").addClass("d-none");
    }
    if (checkDate < "230421" && getCookie("fdRecognized") === undefined) {
      $("#cyberSale").removeClass("d-none").addClass("d-flex");
    }
    $("#cyberSale").on("click", function (e) {
      let $this = $(this),
        linkLoc = $this.find("a").attr("href");
      window.location.href = linkLoc;
    });
    $("#TransitionsBar").on("click", function () {
      window.location.href = "/knowledge-center/transitions-lenses-dp";
    });
    $("#brand-callout").on("click", function () {
      window.location.href = "/oakley/brand?department=eyeglasses,rxsunglasses";
    });
    $(".heroBanner").css("opacity", 1);
    $("#FSABar").on("click", function () {
      window.location.href = "/collections/fsa-hsa-eligible-eyewear-dp";
    });
    $("#klarna").on("click", function () {
      window.location.href = "/knowledge-center/shopping-with-Klarna";
    });
    $("#promoBanner").show();
    if (fdFncs.custType !== undefined) {
      if (fdFncs.custType === "preferred" || fdFncs.custType === "vip") {
        $(".home-promo > h2").html(
          $(".home-promo > h2").html().replace("60", "65")
        );
      }
    }
    //initHeroSlider();
  });
  function hpHero() {
    if ($(".heroBanner > a img").length < 1) {
      $(".heroImg").on("load", function () {
        $(".heroBanner").css("min-height", "inherit");
        $(".heroImg").rwdImageMaps();
      });
    }
    $("#text-overlay").css("opacity", 1);
  }
  $(window)
    .on("load", function () {
      $(".heroBanner").css("min-height", "inherit");
      $(
        '<li class="larger-brand"><a href="/burberry/brand"><img src="https://images.framesdirect.com/image/upload/h_40/v1531417380/logos/burberry-logo.svg" width="300" height="48" alt="Burberry Eyewear"></a></li><li class="larger-brand"><a href="/dolce-gabbana/brand"><img src="https://images.framesdirect.com/image/upload/h_40,c_fit/v1531418607/logos/dolce-gabbana-logo.svg" width="300" height="29" alt="Dolce &amp; Gabbana Eyewear"></a></li><li><a href="/coach/brand"><img src="/images/customerimages/global/logos/coach-logo.svg" width="300" height="121" alt="Coach"></a></li><li class="larger-brand"><a href="/giorgio-armani/brand"><img src="https://images.framesdirect.com/image/upload/h_40,c_fit/v1626742482/logos/giorgio-armani-logo.svg" width="300" height="29" alt="Giorgio Armani"></a></li><li><a href="/wiley-x/brand"><img src="https://images.framesdirect.com/image/upload/h_40/v1531417378/logos/wiley-x-logo.svg" width="300" height="77" alt="Wiley X Eyewear"></a></li><li class="larger-brand"><a href="/michael-kors/brand"><img src="/images/customerimages/global/logos/michael-kors-logo.svg" width="300" height="28" alt="Michael Kors"></a></li><li class="larger-brand"><a href="/tory-burch/brand"><img src="/images/customerimages/global/logos/tory-burch-logo.png" width="200" height="70" alt="Tory Burch"></a></li><li><a href="/hugo-boss/brand"><img src="/images/customerimages/global/logos/hugo-boss-logo.svg" width="300" height="110" alt="Hugo Boss"></a></li><li><a href="/polo/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1542731790/logos/polo-logo.svg" width="300" height="117" alt="Polo"></a></li>  <li><a href="/titmus/brand"><img src="/images/customerimages/global/logos/titmus-logo.svg" width="300" height="51" alt="Titmus"></a></li><li><a href="/nike/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982175/logos/nike-logo.svg" width="300" height="105" alt="Nike"></a></li>   <li><a href="/shuron/brand"><img src="https://images.framesdirect.com/image/upload/w_103/v1630593191/logos/shuron-logo.png" width="103" height="24" alt="Shuron"></a></li><li><a href="/carrera/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982126/logos/carrera-logo.svg" width="300" height="60" alt="Carrera"></a></li><li><a href="/guess/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982146/logos/guess-logo.svg" width="300" height="53" alt="Guess"></a></li><li class="larger-brand"><a href="/ralph-lauren/brand"><img src="https://images.framesdirect.com/image/upload/h_40/v1531417371/logos/ralph-lauren-logo.svg" width="300" height="22" alt="Ralph Lauren"></a></li>'
      ).appendTo("#light-slider");

      if ($(window).width() < 1300) {
        var array = $("#brand-showcase #light-slider li:not(.clone) a");

        for (var i = array.length; i >= 0; i--) {
          if (i % 2 == 0) {
            $(array[i - 1])
              .addClass("mb-auto")
              .insertAfter(array[i - 2]);
            $(array[i - 1])
              .parent("li")
              .addClass("keep");
          }
        }
        $("#brand-showcase #light-slider li:not(.keep)").remove();
        $("#brand-showcase #light-slider").addClass("d-flex");
      }
      $("#light-slider .lslide")
        .removeAttr("style")
        .prop("style", "min-height:1px;");
      initBannerSlider();
    })
    .on("resize orientationchange", function () {
      if ($(window).width() < 550) {
        var array = $("#brand-showcase #light-slider li:not(.clone) a");

        for (var i = array.length; i >= 0; i--) {
          if (i % 2 == 0) {
            $(array[i - 1])
              .addClass("mb-auto")
              .insertAfter(array[i - 2]);
            $(array[i - 1])
              .parent("li")
              .addClass("keep");
          }
        }
        $("#brand-showcase #light-slider li:not(.keep)").remove();
        $("#brand-showcase #light-slider").addClass("d-flex");
      }
      initBannerSlider();
    });
</script>
