<script>
  var bannerSlider = "";
  function initBannerSlider() {
    if (
      bannerSlider.lightSlider &&
      typeof bannerSlider.destroy === "function"
    ) {
      bannerSlider.destroy();
    }
    bannerSlider = $("#light-slider").lightSlider({
      item: 9,
      auto: true,
      slideMove: 3,
      loop: true,
      autoWidth: false,
      pauseOnHover: true,
      easing: "cubic-bezier(0.25, 0, 0.25, 1)",
      speed: 1000,
      pause: 3000,
      slideMargin: 5,
      responsive: [
        {
          breakpoint: 1400,
          settings: {
            item: 6,
          },
        },
        {
          breakpoint: 1080,
          settings: {
            item: 4,
          },
        },
        {
          breakpoint: 500,
          settings: {
            item: 3,
          },
        },
      ],
      onSliderLoad: function (el) {
        $("#light-slider").css("opacity", 1);
      },
    });
  }

  var heroSlider = "";
  function initHeroSlider() {
    if (heroSlider.lightSlider && typeof heroSlider.destroy === "function") {
      heroSlider.destroy();
    }
    heroSlider = $("#hero-slider").lightSlider({
      item: 1,
      loop: true,
      auto: true,
      autoWidth: false,
      easing: "cubic-bezier(0.25, 0, 0.25, 1)",
      speed: 1000,
      pauseOnHover: false,
      pager: false,
      pause: 8000,

      onSliderLoad: function (el) {
        $("#hero-slider").css("opacity", 1);
      },

      onBeforeSlide: function (el) {
        let videos = document.querySelectorAll("#hero-slider video");
        videos.forEach((video) => {
          video.pause();
          video.currentTime = 0;
        });
      },

      onAfterSlide: function (el) {
        let videos = document.querySelectorAll("#hero-slider video");
        videos.forEach((video) => {
          video.play();
          video.currentTime = 0;
        });

        /*  let video = document.querySelector("#hero-slider .active video");
          video.play();
  
          console.log("onAfterSlide") */
      },
    });
  }

  /* play video in new feature opned and paused in last feature */
  function ct_onchange__playvideo(last_video, current_video) {
    last_video.pause();
    last_video.currentTime = 0;
    current_video.play();
  }

  $(function () {
    /* if (
        (checkDate >= "240516" && fdFncs.svrTm.hr >= "02") ||
        (checkDate >= "240517" && checkDate < "240522")
      ) {*/
    $(".heroBanner").replaceWith(
      `<div style="background: #EEEFEA" class="heroBanner position-relative extended transparent d-flex img-flex">
       <a href="/promotions/top-brands-discounted-dp">
    <video
      autoplay
      muted
      playsinline
      disablePictureInPicture
      width="100%"
      class="d-block"
    >
      <source
        src="https://images.framesdirect.com/video/upload/v1717572022/homePage/FATHER_SDAY_EYE.mp4"
        type="video/mp4"
      />
    </video>
  </a>
  <map name="image-map">
    <area
      target=""
      alt="Coach HC6139U Eyeglasses"
      title="Coach HC6139U Eyeglasses"
      href="/coach-hc6139u-eyeglasses"
      coords="686,0,1035,552"
      shape="rect"
    />
    <area
      target=""
      alt="Ray-Ban RB3136 Caravan Sunglasses"
      title="Ray-Ban RB3136 Caravan Sunglasses"
      href="/ray-ban-rb3136-caravan-sunglasses"
      coords="1037,0,1383,552"
      shape="rect"
    />
    <area
      target=""
      alt="Ray-Ban RB5387 Eyeglasses"
      title="Ray-Ban RB5387 Eyeglasses"
      href="/ray-ban-rb5387-eyeglasses?color=10029784"
      coords="1385,2,1802,553"
      shape="rect"
    />
  </map>
  <div class="text-overlay col-12 col-xl-3 d-flex">
    <div
   
      class="home-promo col-12 d-flex flex-column align-items-center justify-content-center"
    >
      <div class="img-flex weight-bold size-18 mb-2">FATHER’S DAY FRAMES</div>

      <div class="d-flex flex-row">
        <div>
          <h1 class="transform-uppercase size-30">
            <span class="weight-extra-bold">20% OFF</span> <br />
            <span class="weight-normal">FRAMES</span>
          </h1>
          <p class="hp-promo-sm weight-normal transform-none size-18">
            From Versace,<br />
            Burberry & More
          </p>
        </div>
        <div class="size-60">
          +
        </div>
        <div>
          <h1 class="transform-uppercase size-30">
            <span class="weight-extra-bold">60% OFF</span> <br />
            <span class="weight-normal">LENSES</span>
          </h1>
          <p class="hp-promo-sm weight-normal transform-none size-18">
            Save Big on<br>
            Prescription Lenses
          </p>
        </div>
      </div>

      <a
        href="/promotions/top-brands-discounted-dp"
        class="btn-cta color-white px-4 d-block py-2 mt-4 d-inline-block"
        style="background: #cd0000"
        >Shop Now</a
      >
    </div>
  </div>
    </div>`
    );

    //  if (checkDate > '240321' && checkDate < '240401')
    //hero slider promotion
    $(".heroBanner").wrap('<ul id="hero-slider"><li></li></ul>');
    $("#hero-slider").append(
      `<li>
            <div class="heroBanner position-relative extended transparent d-flex img-flex" style="background: #E3DAC9;">
  <a href="/promotions/top-brands-discounted-dp">
    <video
      autoplay
      muted
      playsinline
      disablePictureInPicture
      width="100%"
      class="d-block"
    >
      <source
        src="https://images.framesdirect.com/video/upload/v1717076683/homePage/FD_Father_s_Day_SUN.mp4"
        type="video/mp4"
      />
    </video>
  </a>
  <map name="image-map">
    <area
      target=""
      alt="Coach HC6139U Eyeglasses"
      title="Coach HC6139U Eyeglasses"
      href="/coach-hc6139u-eyeglasses"
      coords="686,0,1035,552"
      shape="rect"
    />
    <area
      target=""
      alt="Ray-Ban RB3136 Caravan Sunglasses"
      title="Ray-Ban RB3136 Caravan Sunglasses"
      href="/ray-ban-rb3136-caravan-sunglasses"
      coords="1037,0,1383,552"
      shape="rect"
    />
    <area
      target=""
      alt="Ray-Ban RB5387 Eyeglasses"
      title="Ray-Ban RB5387 Eyeglasses"
      href="/ray-ban-rb5387-eyeglasses?color=10029784"
      coords="1385,2,1802,553"
      shape="rect"
    />
  </map>
  <div class="text-overlay col-12 col-xl-3 d-flex">
    <div
      class="home-promo col-12 d-flex flex-column align-items-center justify-content-center"
    >
      <div class="img-flex weight-bold size-18 mb-2">FIND YOUR PERFECT <br>
FATHER’S DAY SHADES</div>
       
        <div>
          <h1 class="transform-uppercase size-30 pb-1">
            <span class="weight-extra-bold">$40 OFF</span> <br />
            <span class="weight-normal">DESIGNER SUNGLASSES</span>
          </h1>
          <p class="hp-promo-sm weight-normal transform-none size-14">
            including <b>RAY-BAN, OAKLEY & Costa</b><br>
Combinable with <b>60% off lenses*</b>
          </p>
     
        </div>
        <a
        href="/promotions/top-brands-discounted-dp"
        class="btn-cta color-white px-4 d-block d-inline-block"
        style="background: #cd0000"
        >Save Now</a
      >
    </div>
  </div>
</div>
    </li>`
    );

    $("#polarizedSale").on("click", function () {
      window.location.href = "/sale/polarized-dp";
    });
    $(
      "#saleBlock > div, #brand-callout, #text-overlay, #promoSale, #cyberSale"
    ).on("click", function () {
      let $this = $(this),
        linkLoc = $this.find("a").attr("href");
      window.location.href = linkLoc;
    });
    $("#email-signup").on("click", function () {
      $("#footer-newsletter-submit").click();
    });
    if (checkDate > "230109") {
      $("#saleBlock").removeClass("d-flex").addClass("d-none");
    }

    $("#FSABar h2").html("We Accept FSA &amp; HSA");
    $("#FSABar p").html(
      "Did you know that you can use your flexible spending account (FSA) or health savings account (HSA) dollars to purchase prescription eyeglasses, prescription sunglasses, and prescription contact lenses? These funds can be used whether you have vision insurance or not. And if you use your flex spending or HSA debit card, you won't have to submit a reimbursement form to your insurance provider!"
    );

    $(".heroBanner").css("opacity", 1);

    $("#TransitionsBar").on("click", function () {
      window.location.href = "/eyeglasses";
    });
    $("#FSABar").on("click", function () {
      window.location.href = "/collections/fsa-hsa-eligible-eyewear-dp";
    });

    $("#klarna").on("click", function () {
      window.location.href = "/knowledge-center/shopping-with-Klarna";
    });
    $("#promoBanner").show();

    initHeroSlider();
    if (fdFncs.custType !== undefined) {
      if (fdFncs.custType === "preferred" || fdFncs.custType === "vip") {
        $(".home-promo > h2").html(
          $(".home-promo > h2").html().replace("60", "65")
        );
      }
    }
    if (window.location.href.toLowerCase().includes("upto50")) {
      $(".home-promo h1").replaceWith(
        '<h1>Up to 50% Off<div class="hp-promo-sm weight-normal transform-none">80+ Designer Brands</div></h1>'
      );
    }
  });

  function hpHero() {
    if ($(".heroBanner > a img").length < 1) {
      $(".heroImg").on("load", function () {
        $(".heroBanner").css("min-height", "inherit");
        $(".heroImg").rwdImageMaps();
      });
    }
    $(".text-overlay").css("opacity", 1);
  }

  $(window)
    .on("load", function () {
      initHeroSlider();
      $(".heroBanner").css("min-height", "inherit");
      $(
        '<li class="larger-brand"><a href="/dolce-gabbana/brand"><img src="https://images.framesdirect.com/image/upload/h_40,c_fit/v1531418607/logos/dolce-gabbana-logo.svg" width="300" height="29" alt="Dolce &amp; Gabbana Eyewear"></a></li><li><a href="/coach/brand"><img src="/images/customerimages/global/logos/coach-logo.svg" width="300" height="121" alt="Coach"></a></li><li class="larger-brand"><a href="/giorgio-armani/brand"><img src="https://images.framesdirect.com/image/upload/h_40,c_fit/v1626742482/logos/giorgio-armani-logo.svg" width="300" height="29" alt="Giorgio Armani"></a></li><li><a href="/wiley-x/brand"><img src="https://images.framesdirect.com/image/upload/v1707250152/logos/WX_logo_stacked_black.svg" width="110" height="70" alt="Wiley X Eyewear"></a></li><li class="larger-brand"><a href="/michael-kors/brand"><img src="/images/customerimages/global/logos/michael-kors-logo.svg" width="300" height="28" alt="Michael Kors"></a></li><li class="larger-brand"><a href="/tory-burch/brand"><img src="/images/customerimages/global/logos/tory-burch-logo.png" width="200" height="70" alt="Tory Burch"></a></li><li><a href="/hugo-boss/brand"><img src="/images/customerimages/global/logos/hugo-boss-logo.svg" width="300" height="110" alt="Hugo Boss"></a></li><li><a href="/polo/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1542731790/logos/polo-logo.svg" width="300" height="117" alt="Polo"></a></li><li><a href="/nike/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982175/logos/nike-logo.svg" width="300" height="105" alt="Nike"></a></li>   <li><a href="/shuron/brand"><img src="https://images.framesdirect.com/image/upload/w_103/v1630593191/logos/shuron-logo.png" width="103" height="24" alt="Shuron"></a></li><li><a href="/carrera/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982126/logos/carrera-logo.svg" width="300" height="60" alt="Carrera"></a></li><li><a href="/guess/brand"><img src="https://images.framesdirect.com/image/upload/h_33/v1591982146/logos/guess-logo.svg" width="300" height="53" alt="Guess"></a></li><li class="larger-brand"><a href="/ralph-lauren/brand"><img src="https://images.framesdirect.com/image/upload/h_40/v1531417371/logos/ralph-lauren-logo.svg" width="300" height="22" alt="Ralph Lauren"></a></li>'
      ).appendTo("#light-slider");

      if ($(window).width() < 1300) {
        var array = $("#brand-showcase #light-slider li:not(.clone) a");

        for (var i = array.length; i >= 0; i--) {
          if (i % 2 == 0) {
            $(array[i - 1])
              .addClass("mb-auto")
              .insertAfter(array[i - 2]);
            $(array[i - 1])
              .parent("li")
              .addClass("keep");
          }
        }
        $("#brand-showcase #light-slider li:not(.keep)").remove();
        $("#brand-showcase #light-slider").addClass("d-flex");
      }
      $("#light-slider .lslide")
        .removeAttr("style")
        .prop("style", "min-height:1px;");
      initBannerSlider();
    })
    .on("resize orientationchange", function () {
      if ($(window).width() < 550) {
        var array = $("#brand-showcase #light-slider li:not(.clone) a");

        for (var i = array.length; i >= 0; i--) {
          if (i % 2 == 0) {
            $(array[i - 1])
              .addClass("mb-auto")
              .insertAfter(array[i - 2]);
            $(array[i - 1])
              .parent("li")
              .addClass("keep");
          }
        }
        $("#brand-showcase #light-slider li:not(.keep)").remove();
        $("#brand-showcase #light-slider").addClass("d-flex");
      }
      initBannerSlider();
    });
</script>
