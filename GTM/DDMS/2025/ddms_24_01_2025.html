<script>
  $("#site-nav .promo-bottom").each(function () {
    var $this = $(this),
      isRecognized = getCookie("fdRecognized") !== undefined,
      setPg = "",
      clMsg =
        '<div class="weight-bold size-18 mb-3">Free Shipping</div><div class="size-15">On Contact Lens<br>Orders over $175</div>';

    $this.css("backgroundColor", "#fff");
    $this.attr("style", "cursor: pointer");

    if (
      !$this.parents(".top-items").hasClass("top-sale") &&
      ((checkDate >= "250124" && checkDate <= "250125") ||
        (checkDate >= "250124" && checkDate <= "250125") ||
        (fdFncs.vars.isTest >= "250124" && checkDate <= "250125") ||
        (fdFncs.vars.isTest >= "250124" && checkDate <= "250125"))
    ) {
      $this.css(
        "background",
        "linear-gradient(to right, #ECDC66, #D5BB66, #BD9761)"
      );
      setPg = "/email/anniversary-dp";
      if ($this.parents(".top-items").hasClass("top-cl")) {
        $this.append(clMsg);
        setPg = "/contact-lenses/";
      } else if ($this.parents(".top-items").hasClass("top-sale")) {
        $this.append(
          '<div class="size-14">Outlet Deals</div><div class="size-18 pt-2 mt-2" style="line-height: 1; border-top: 1px #fff solid;">Save Up To</div><div class="size-40" style="line-height: 1;">50%</div>'
        );
        $this.addClass(
          "background-red color-white weight-bold transform-uppercase"
        );
      } else if ($this.parents(".top-items").hasClass("top-sg")) {
        $this.append(
          '<div><span class="weight-bold size-18">29% OFF<br>FRAMES</span></div>'
        );
      } else {
        $this.append(
          '<div class="weight-bold size-18">29% OFF<br> FRAMES</div><div class="weight-bold size-18 pt-2 pb-2">+</div><div class="weight-bold size-18">60% OFF <br>LENSES</div>'
        );
      }
    } else if (
      !$this.parents(".top-items").hasClass("top-sale") &&
      ((checkDate >= "250116" && checkDate <= "250117") ||
        (fdFncs.vars.isTest >= "250116" && checkDate <= "250117"))
    ) {
      $this.css("backgroundColor", "#87C2CC");
      if ($this.parents(".top-items").hasClass("top-cl")) {
        $this.append(clMsg);
        setPg = "/contact-lenses/";
      } else if ($this.parents(".top-items").hasClass("top-sale")) {
        $this.append(
          '<div class="size-14">Outlet Deals</div><div class="size-18 pt-2 mt-2" style="line-height: 1; border-top: 1px #fff solid;">Save Up To</div><div class="size-40" style="line-height: 1;">50%</div>'
        );
        $this.addClass(
          "background-red color-white weight-bold transform-uppercase"
        );
      } else if ($this.parents(".top-items").hasClass("top-sg")) {
        $this.append(
          '<div class="weight-bold size-18">20% OFF FRAMES</div><div>from Burberry, Versace, &amp; more</div>'
        );
        setPg = "/email/winter-sale-dp";
      } else {
        $this.append(
          '<div class="weight-bold size-18">20% OFF FRAMES</div><div>from Burberry, Versace, &amp; more</div><div class="weight-bold size-18">+</div><div>Up to</div><div class="weight-bold size-18">60% OFF LENSES</div>'
        );
        setPg = "/email/winter-sale-dp";
      }
    } else {
      $this.css("backgroundColor", "#AAB9C0");
      setPg = "/sale/top-brands-discounted-dp";
      //$this.css("backgroundColor", "#A7E5DA");
      if ($this.parents(".top-items").hasClass("top-cl")) {
        $this.append(clMsg);
        setPg = "/contact-lenses/";
      } else if ($this.parents(".top-items").hasClass("top-sale")) {
        $this.append(
          '<div class="size-14">Outlet Deals</div><div class="size-18 pt-2 mt-2" style="line-height: 1; border-top: 1px #fff solid;">Save Up To</div><div class="size-40" style="line-height: 1;">50%</div>'
        );
        $this.addClass(
          "background-red color-white weight-bold transform-uppercase"
        );
        setPg = "/sale/designer-eyewear-outlet-dp";
      } else if ($this.parents(".top-items").hasClass("top-sg")) {
        $this.append(
          '<div><p class="mt-0">Up to</p> <span class="weight-bold size-18">50% OFF<br>FRAMES</span></div>'
        );
      } else {
        $this.append(
          '<div>Up to</div><div class="weight-bold size-18">50% OFF FRAMES</div><div class="weight-bold size-18">+</div><div>Up to</div><div class="weight-bold size-18">60% OFF LENSES</div>'
        );
      }
    }
    if (setPg !== "") {
      $this.on("click", function () {
        window.location.href = setPg;
      });
    }
  });
</script>
